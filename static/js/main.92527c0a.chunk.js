(this["webpackJsonpspace-x"]=this["webpackJsonpspace-x"]||[]).push([[0],{16:function(e,a,n){e.exports={body_hasModal:"Modal_body_hasModal__2-4N4",wrapper:"Modal_wrapper__3e00S",modal:"Modal_modal__1vwov",fadeIn:"Modal_fadeIn__2VbfN",modal_BG:"Modal_modal_BG__1w5cI",fadeI_BG:"Modal_fadeI_BG__3ygfR",header:"Modal_header__3jdKb",body:"Modal_body__2SQju",footer:"Modal_footer__RRf7L"}},25:function(e,a,n){e.exports={wrapper:"LaunchCard_wrapper__3NVA2",card:"LaunchCard_card__vSeQz",title:"LaunchCard_title__VTD1b",date:"LaunchCard_date__3iYvb"}},27:function(e,a,n){e.exports={header:"ModalDetails_header__3KDeK",body:"ModalDetails_body__Ng59s",title:"ModalDetails_title__1Euhl",options:"ModalDetails_options__25jsN"}},41:function(e,a,n){e.exports={btn:"Button_btn__1Lkv5",disabled:"Button_disabled__1f6YP"}},56:function(e,a,n){e.exports={loader:"Loader_loader__2hZcM",moveInFromLeft:"Loader_moveInFromLeft__28s9A"}},65:function(e,a,n){},67:function(e,a,n){},74:function(e,a,n){"use strict";n.r(a);var t=n(3),c=n.n(t),i=n(35),s=n.n(i),o=n(22),l=(n(65),n(24)),d=n(55),r=n(21),u=n.n(r),b=n(56),_=n.n(b),j=n(4),f=function(e){var a=e.className;return Object(j.jsx)("div",{"aria-label":"Loading",className:u()(_.a.loader,a)})},h=n(25),m=n.n(h),v=function(e){var a=new Date(e);return"".concat(a.getDate(),"/").concat(a.getMonth()).concat(a.getFullYear())},O=function(e){var a=e.id,n=e.title,t=e.details,c=e.date,i=e.onClick;return t?Object(j.jsxs)("article",{className:m.a.card,onClick:function(){i(a)},role:"button",children:[Object(j.jsx)("h1",{className:m.a.title,children:n}),Object(j.jsx)("p",{children:t}),Object(j.jsx)("span",{className:m.a.date,children:v(c)})]}):null};O.List=function(e){var a=e.children;return Object(j.jsx)("div",{className:m.a.wrapper,children:a})};var p=O,x=n(16),N=n.n(x),k=function(e){var a=e.children,n=e.className,c=e.isVisible,i=void 0!==c&&c,o=e.onDismiss,l=void 0===o?function(){}:o,d=document.body;return Object(t.useEffect)((function(){return d.classList.add(N.a.body_hasModal),function(){d.classList.remove(N.a.body_hasModal)}}),[d]),Object(t.useEffect)((function(){i?d.classList.add(N.a.body_hasModal):(d.classList.remove(N.a.body_hasModal),l())}),[i,l,d]),i?s.a.createPortal(Object(j.jsxs)("div",{className:u()(N.a.wrapper,n),children:[Object(j.jsx)("div",{className:N.a.modal_BG}),Object(j.jsx)("div",{className:N.a.modal,children:a})]}),d):null};k.Header=function(e){var a=e.children,n=e.className;return Object(j.jsx)("div",{className:u()(N.a.header,n),children:a})},k.Body=function(e){var a=e.children,n=e.className;return Object(j.jsx)("div",{className:u()(N.a.body,n),children:a})},k.Footer=function(e){var a=e.children,n=e.className;return Object(j.jsx)("div",{className:u()(N.a.footer,n),children:a})};var y,M=function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,c=Object(t.useRef)();Object(t.useEffect)((function(){c.current=a}),[a]),Object(t.useEffect)((function(){if(n&&n.addEventListener){var a=function(e){return c.current(e)};return n.addEventListener(e,a),function(){n.removeEventListener(e,a)}}}),[e,n])},g=function(){var e=Object(t.useState)(!1),a=Object(l.a)(e,2),n=a[0],c=a[1],i=function(e){var a=Object(t.useState)(!1),n=Object(l.a)(a,2),c=n[0],i=n[1];return M("keydown",(function(a){var n=a.key,t=a.keyCode;n!==e&&t!==e||i(!0)}),window),M("keyup",(function(a){var n=a.key,t=a.keyCode;n!==e&&t!==e||i(!1)}),window),c}(27),s=function(){return c(!1)};return Object(t.useEffect)((function(){n&&i&&s()}),[n,i]),{isVisible:n,showModal:function(){return c(!0)},hiddeModal:s}},w=n(41),L=n.n(w),C=function(e){var a=e.children,n=e.label,t=e.onClick,c=e.disabled,i=void 0!==c&&c,s=e.type,o=void 0===s?"button":s,l=a||n;return l?Object(j.jsx)("button",{className:u()(L.a.btn,i&&L.a.disabled),onClick:function(){!i&&t&&t()},type:o,disabled:i,children:l}):null},I=n(27),B=n.n(I),D=function(e){var a=e.closeAction,n=e.isVisible,t=e.data,c=t.title,i=t.desc,s=t.img,o=void 0===s?"":s,l=t.link,d=o?{backgroundImage:"url(".concat(o,")")}:{};return Object(j.jsxs)(k,{className:B.a.modal,isVisible:n,children:[Object(j.jsx)("div",{className:B.a.header,style:d}),Object(j.jsxs)("div",{className:B.a.body,children:[Object(j.jsx)("h4",{className:B.a.title,children:c}),Object(j.jsx)("span",{children:i}),Object(j.jsxs)("div",{className:B.a.options,children:[Object(j.jsx)(C,{onClick:a,label:"Close"}),!!l&&Object(j.jsx)(C,{onClick:function(){window.location.href=l},label:"See more"})]})]})]})},E=(n(67),Object(o.gql)(y||(y=Object(d.a)(["{\n  launchesPast(limit: 10) {\n    id\n    mission_name\n    details\n    launch_date_utc\n    links {\n      article_link\n      flickr_images\n    }\n  }\n}"])))),F=function(){var e=Object(o.useQuery)(E),a=e.loading,n=e.error,c=e.data,i=void 0===c?{}:c,s=Object(t.useState)({}),d=Object(l.a)(s,2),r=d[0],u=d[1],b=g(),_=b.showModal,h=b.hiddeModal,m=b.isVisible,v=i.launchesPast,O=void 0===v?[]:v,x=function(e){var a=O.find((function(a){return a.id===e})),n=a.links,t=n.flickr_images,c=void 0===t?[]:t;console.log(a),u({title:a.mission_name,desc:a.details,img:c[0]||"",link:n.article_link}),_()};return n&&console.log(n),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(D,{closeAction:h,isVisible:m,data:r}),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("h2",{children:"Last launches \ud83d\ude80"}),a?Object(j.jsx)(f,{}):Object(j.jsx)(p.List,{children:O.map((function(e){return Object(j.jsx)(p,{id:e.id,title:e.mission_name,details:e.details,date:e.launch_date_utc,onClick:x},e.id)}))})]})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(a){var n=a.getCLS,t=a.getFID,c=a.getFCP,i=a.getLCP,s=a.getTTFB;n(e),t(e),c(e),i(e),s(e)}))},V=new o.ApolloClient({cache:new o.InMemoryCache,link:new o.HttpLink({uri:"https://api.spacex.land/graphql"})});s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(o.ApolloProvider,{client:V,children:Object(j.jsx)(F,{})})}),document.getElementById("root")),S()}},[[74,1,2]]]);
//# sourceMappingURL=main.92527c0a.chunk.js.map